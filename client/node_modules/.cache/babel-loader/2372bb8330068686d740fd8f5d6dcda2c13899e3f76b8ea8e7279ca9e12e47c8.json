{"ast":null,"code":"import _objectSpread from\"C:/Users/PC/freelance-marketplace/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from'react';import{Link}from'react-router-dom';import{useGigs}from'../context/GigContext';import{getImageUrl}from'../utils/imageUtils';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const GigList=()=>{const{gigs,loading,error,getGigs}=useGigs();const[filters,setFilters]=useState({category:'',minPrice:'',maxPrice:'',search:'',sort:'newest'});useEffect(()=>{getGigs(filters);},[filters,getGigs]);// Added getGigs back since it's now stable\nconst handleFilterChange=(key,value)=>{setFilters(prev=>_objectSpread(_objectSpread({},prev),{},{[key]:value}));};const categories=['Web Development','Mobile Development','Design & Creative','Writing & Translation','Digital Marketing','Video & Animation','Music & Audio','Programming & Tech','Business','Lifestyle','Other'];if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-xl\",children:\"Loading gigs...\"})});}return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-6 sm:px-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900\",children:\"Browse Gigs\"}),/*#__PURE__*/_jsx(Link,{to:\"/dashboard\",className:\"bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded\",children:\"Dashboard\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-6 rounded-lg shadow mb-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Search\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search gigs...\",value:filters.search,onChange:e=>handleFilterChange('search',e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Category\"}),/*#__PURE__*/_jsxs(\"select\",{value:filters.category,onChange:e=>handleFilterChange('category',e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Categories\"}),categories.map(category=>/*#__PURE__*/_jsx(\"option\",{value:category,children:category},category))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Min Price ($)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"0\",value:filters.minPrice,onChange:e=>handleFilterChange('minPrice',e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Max Price ($)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"1000\",value:filters.maxPrice,onChange:e=>handleFilterChange('maxPrice',e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Sort By\"}),/*#__PURE__*/_jsxs(\"select\",{value:filters.sort,onChange:e=>handleFilterChange('sort',e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"newest\",children:\"Newest\"}),/*#__PURE__*/_jsx(\"option\",{value:\"price-low\",children:\"Price: Low to High\"}),/*#__PURE__*/_jsx(\"option\",{value:\"price-high\",children:\"Price: High to Low\"}),/*#__PURE__*/_jsx(\"option\",{value:\"rating\",children:\"Rating\"})]})]})]})}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-50 border border-red-200 rounded-md p-4 mb-6\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-red-600\",children:error})}),gigs.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"No gigs found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Try adjusting your filters or check back later for new gigs.\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:gigs.map(gig=>{var _gig$seller;return/*#__PURE__*/_jsxs(Link,{to:\"/gigs/\".concat(gig._id),className:\"bg-white overflow-hidden shadow rounded-lg hover:shadow-lg transition-shadow\",children:[gig.images&&gig.images.length>0&&/*#__PURE__*/_jsx(\"img\",{className:\"h-48 w-full object-cover\",src:getImageUrl(gig.images[0]),alt:gig.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:gig.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-4 line-clamp-3\",children:gig.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-lg font-bold text-green-600\",children:[\"Starting at $\",gig.price]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-500\",children:gig.category})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-500\",children:[\"By \",(_gig$seller=gig.seller)===null||_gig$seller===void 0?void 0:_gig$seller.name]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-500\",children:[gig.deliveryTime,\" days delivery\"]})]})]})]},gig._id);})})]})})});};export default GigList;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}