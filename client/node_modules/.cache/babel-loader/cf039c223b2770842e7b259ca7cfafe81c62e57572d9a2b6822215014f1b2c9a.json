{"ast":null,"code":"import { _array, _tuple, _unknown } from \"./api.js\";\nimport { parse, parseAsync } from \"./parse.js\";\nimport * as schemas from \"./schemas.js\";\nimport { $ZodTuple } from \"./schemas.js\";\nexport class $ZodFunction {\n  constructor(def) {\n    this._def = def;\n    this.def = def;\n  }\n  implement(func) {\n    var _this = this;\n    if (typeof func !== \"function\") {\n      throw new Error(\"implement() must be called with a function\");\n    }\n    const impl = function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      const parsedArgs = _this._def.input ? parse(_this._def.input, args, undefined, {\n        callee: impl\n      }) : args;\n      if (!Array.isArray(parsedArgs)) {\n        throw new Error(\"Invalid arguments schema: not an array or tuple schema.\");\n      }\n      const output = func(...parsedArgs);\n      return _this._def.output ? parse(_this._def.output, output, undefined, {\n        callee: impl\n      }) : output;\n    };\n    return impl;\n  }\n  implementAsync(func) {\n    var _this2 = this;\n    if (typeof func !== \"function\") {\n      throw new Error(\"implement() must be called with a function\");\n    }\n    const impl = async function () {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n      const parsedArgs = _this2._def.input ? await parseAsync(_this2._def.input, args, undefined, {\n        callee: impl\n      }) : args;\n      if (!Array.isArray(parsedArgs)) {\n        throw new Error(\"Invalid arguments schema: not an array or tuple schema.\");\n      }\n      const output = await func(...parsedArgs);\n      return _this2._def.output ? parseAsync(_this2._def.output, output, undefined, {\n        callee: impl\n      }) : output;\n    };\n    return impl;\n  }\n  input() {\n    const F = this.constructor;\n    if (Array.isArray(arguments.length <= 0 ? undefined : arguments[0])) {\n      return new F({\n        type: \"function\",\n        input: new $ZodTuple({\n          type: \"tuple\",\n          items: arguments.length <= 0 ? undefined : arguments[0],\n          rest: arguments.length <= 1 ? undefined : arguments[1]\n        }),\n        output: this._def.output\n      });\n    }\n    return new F({\n      type: \"function\",\n      input: arguments.length <= 0 ? undefined : arguments[0],\n      output: this._def.output\n    });\n  }\n  output(output) {\n    const F = this.constructor;\n    return new F({\n      type: \"function\",\n      input: this._def.input,\n      output\n    });\n  }\n}\nfunction _function(params) {\n  var _params$input, _params$output;\n  return new $ZodFunction({\n    type: \"function\",\n    input: Array.isArray(params === null || params === void 0 ? void 0 : params.input) ? _tuple(schemas.$ZodTuple, params === null || params === void 0 ? void 0 : params.input) : (_params$input = params === null || params === void 0 ? void 0 : params.input) !== null && _params$input !== void 0 ? _params$input : _array(schemas.$ZodArray, _unknown(schemas.$ZodUnknown)),\n    output: (_params$output = params === null || params === void 0 ? void 0 : params.output) !== null && _params$output !== void 0 ? _params$output : _unknown(schemas.$ZodUnknown)\n  });\n}\nexport { _function as function };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}