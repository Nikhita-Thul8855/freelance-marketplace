{"ast":null,"code":"import _objectSpread from\"C:/Users/PC/freelance-marketplace/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from'react';import{Link}from'react-router-dom';import{useGigs}from'../context/GigContext';import{getImageUrl}from'../utils/imageUtils';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Home=()=>{const{gigs,loading,error,getGigs}=useGigs();const[searchTerm,setSearchTerm]=useState('');const[selectedCategory,setSelectedCategory]=useState('');const[priceRange,setPriceRange]=useState({min:'',max:''});const[filteredGigs,setFilteredGigs]=useState([]);// Categories for filtering\nconst categories=['Web Development','Mobile Development','Design & Creative','Writing & Translation','Digital Marketing','Video & Animation','Music & Audio','Programming & Tech','Business','Lifestyle','Other'];// Fetch gigs on component mount\nuseEffect(()=>{getGigs();},[getGigs]);// Retry function for failed requests\nconst handleRetry=()=>{getGigs();};// Filter gigs based on search term, category, and price range\nuseEffect(()=>{let filtered=gigs;// Filter by search term\nif(searchTerm){filtered=filtered.filter(gig=>{var _gig$tags;return gig.title.toLowerCase().includes(searchTerm.toLowerCase())||gig.description.toLowerCase().includes(searchTerm.toLowerCase())||((_gig$tags=gig.tags)===null||_gig$tags===void 0?void 0:_gig$tags.some(tag=>tag.toLowerCase().includes(searchTerm.toLowerCase())));});}// Filter by category\nif(selectedCategory){filtered=filtered.filter(gig=>gig.category===selectedCategory);}// Filter by price range\nif(priceRange.min||priceRange.max){filtered=filtered.filter(gig=>{const price=gig.price;const minPrice=priceRange.min?Number(priceRange.min):0;const maxPrice=priceRange.max?Number(priceRange.max):Infinity;return price>=minPrice&&price<=maxPrice;});}setFilteredGigs(filtered);},[gigs,searchTerm,selectedCategory,priceRange]);// Clear all filters\nconst clearFilters=()=>{setSearchTerm('');setSelectedCategory('');setPriceRange({min:'',max:''});};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-600 text-white\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold mb-4\",children:\"Freelance Marketplace\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xl mb-8\",children:\"Connect with talented freelancers and find amazing opportunities\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center space-x-4\",children:[/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"bg-white text-blue-600 font-bold py-3 px-6 rounded-lg hover:bg-gray-100 transition-colors\",children:\"Find Freelancers\"}),/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"border-2 border-white text-white font-bold py-3 px-6 rounded-lg hover:bg-white hover:text-blue-600 transition-colors\",children:\"Post a Job\"})]})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white shadow-sm border-b\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-between items-center py-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-6\",children:[/*#__PURE__*/_jsx(Link,{to:\"/gigs\",className:\"text-gray-600 hover:text-gray-900\",children:\"Browse All Gigs\"}),/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"text-gray-600 hover:text-gray-900\",children:\"Sign In\"}),/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"text-gray-600 hover:text-gray-900\",children:\"Sign Up\"})]})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm p-6 mb-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-6\",children:\"Find Your Perfect Gig\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Search\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search gigs, skills, or keywords...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),className:\"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Category\"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedCategory,onChange:e=>setSelectedCategory(e.target.value),className:\"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Categories\"}),categories.map(category=>/*#__PURE__*/_jsx(\"option\",{value:category,children:category},category))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Price Range\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"Min\",value:priceRange.min,onChange:e=>setPriceRange(prev=>_objectSpread(_objectSpread({},prev),{},{min:e.target.value})),className:\"w-full px-2 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"Max\",value:priceRange.max,onChange:e=>setPriceRange(prev=>_objectSpread(_objectSpread({},prev),{},{max:e.target.value})),className:\"w-full px-2 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600\",children:[\"Showing \",filteredGigs.length,\" of \",gigs.length,\" gigs\",searchTerm&&/*#__PURE__*/_jsxs(\"span\",{className:\"ml-2 px-2 py-1 bg-blue-100 text-blue-800 rounded\",children:[\"\\\"\",searchTerm,\"\\\"\"]}),selectedCategory&&/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 px-2 py-1 bg-green-100 text-green-800 rounded\",children:selectedCategory}),(priceRange.min||priceRange.max)&&/*#__PURE__*/_jsxs(\"span\",{className:\"ml-2 px-2 py-1 bg-purple-100 text-purple-800 rounded\",children:[\"$\",priceRange.min||0,\" - $\",priceRange.max||'âˆž']})]}),(searchTerm||selectedCategory||priceRange.min||priceRange.max)&&/*#__PURE__*/_jsx(\"button\",{onClick:clearFilters,className:\"text-sm text-blue-600 hover:text-blue-800 font-medium\",children:\"Clear all filters\"})]})]}),loading?/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center py-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-xl text-gray-600\",children:\"Loading gigs...\"})}):error?/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-50 border border-red-200 rounded-md p-6 mb-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-red-600 mb-4\",children:error}),/*#__PURE__*/_jsx(\"button\",{onClick:handleRetry,className:\"bg-red-600 hover:bg-red-700 text-white font-medium py-2 px-4 rounded\",children:\"Try Again\"})]})}):filteredGigs.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:gigs.length===0?'No gigs available yet':'No gigs match your filters'}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6\",children:gigs.length===0?'Be the first to create a gig!':'Try adjusting your search criteria or browse all gigs.'}),gigs.length===0?/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded\",children:\"Sign Up to Create a Gig\"}):/*#__PURE__*/_jsx(\"button\",{onClick:clearFilters,className:\"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded\",children:\"Clear Filters\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\",children:filteredGigs.slice(0,12).map(gig=>{var _gig$seller;return/*#__PURE__*/_jsxs(Link,{to:\"/gigs/\".concat(gig._id),className:\"bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow overflow-hidden\",children:[gig.images&&gig.images.length>0?/*#__PURE__*/_jsx(\"img\",{className:\"w-full h-48 object-cover\",src:getImageUrl(gig.images[0]),alt:gig.title}):/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-48 bg-gray-200 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-500 text-sm\",children:\"No image\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-2 line-clamp-2\",children:gig.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-3 line-clamp-3\",children:gig.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-2\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-lg font-bold text-green-600\",children:[\"Starting at $\",gig.price]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs px-2 py-1 bg-blue-100 text-blue-800 rounded\",children:gig.category})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center text-sm text-gray-500\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"By \",(_gig$seller=gig.seller)===null||_gig$seller===void 0?void 0:_gig$seller.name]}),/*#__PURE__*/_jsxs(\"span\",{children:[gig.deliveryTime,\" days delivery\"]})]}),gig.tags&&gig.tags.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-1 mt-2\",children:[gig.tags.slice(0,3).map((tag,index)=>/*#__PURE__*/_jsx(\"span\",{className:\"text-xs px-2 py-1 bg-gray-100 text-gray-600 rounded\",children:tag},index)),gig.tags.length>3&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs text-gray-500\",children:[\"+\",gig.tags.length-3,\" more\"]})]})]})]},gig._id);})}),filteredGigs.length>12&&/*#__PURE__*/_jsx(\"div\",{className:\"text-center mt-8\",children:/*#__PURE__*/_jsxs(Link,{to:\"/gigs\",className:\"bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg\",children:[\"View All \",filteredGigs.length,\" Gigs\"]})})]}),/*#__PURE__*/_jsx(\"footer\",{className:\"bg-gray-800 text-white\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"Freelance Marketplace\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400\",children:\"Connecting talent with opportunity\"})]})})})]});};export default Home;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}