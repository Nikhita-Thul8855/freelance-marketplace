{"ast":null,"code":"export const $output = Symbol(\"ZodOutput\");\nexport const $input = Symbol(\"ZodInput\");\nexport class $ZodRegistry {\n  constructor() {\n    this._map = new Map();\n    this._idmap = new Map();\n  }\n  add(schema, ..._meta) {\n    const meta = _meta[0];\n    this._map.set(schema, meta);\n    if (meta && typeof meta === \"object\" && \"id\" in meta) {\n      if (this._idmap.has(meta.id)) {\n        throw new Error(`ID ${meta.id} already exists in the registry`);\n      }\n      this._idmap.set(meta.id, schema);\n    }\n    return this;\n  }\n  clear() {\n    this._map = new Map();\n    this._idmap = new Map();\n    return this;\n  }\n  remove(schema) {\n    const meta = this._map.get(schema);\n    if (meta && typeof meta === \"object\" && \"id\" in meta) {\n      this._idmap.delete(meta.id);\n    }\n    this._map.delete(schema);\n    return this;\n  }\n  get(schema) {\n    // return this._map.get(schema) as any;\n    // inherit metadata\n    const p = schema._zod.parent;\n    if (p) {\n      const pm = {\n        ...(this.get(p) ?? {})\n      };\n      delete pm.id; // do not inherit id\n      return {\n        ...pm,\n        ...this._map.get(schema)\n      };\n    }\n    return this._map.get(schema);\n  }\n  has(schema) {\n    return this._map.has(schema);\n  }\n}\n// registries\nexport function registry() {\n  return new $ZodRegistry();\n}\nexport const globalRegistry = /*@__PURE__*/registry();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}